# Code Review Index

**Status**: New implementation-level review system
**Last Updated**: 2025-10-24
**Review Type**: Roadmap item implementations (not individual commits)

---

## Overview

This directory contains code review summaries generated by the code_reviewer agent. Unlike the old system that reviewed every commit individually, the new system reviews **complete implementations** (all commits for a roadmap item together).

### New Review System

- **Granularity**: Roadmap item level (complete features)
- **Storage**: Database (`code_reviews` table)
- **Format**: Comprehensive summaries with quality scores
- **Architect Review**: architect reads and acknowledges summaries
- **Temporary Tracking**: Commits tracked during implementation, deleted after review

### Old System (Archived)

The old commit-level review system (103 reviews) has been archived to:
`../MonolithicCoffeeMakerAgent_backups/2025-10-24/code-reviews_old_commit_level/`

Old reviews were too granular and noisy. The new system provides actionable feedback at the feature level.

---

## Review Summaries

This directory will contain code review summary documents generated by code_reviewer for completed roadmap item implementations.

**Format**: Reviews are stored in the database and can be queried via:
- `roadmap_db.get_unreviewed_code_reviews()` - Get reviews needing architect attention
- `roadmap_db.mark_review_as_read(item_id)` - Mark review as read by architect

**CLI Commands**:
```bash
# List all code reviews
poetry run code-reviewer list-reviews

# Show review summary for roadmap item
poetry run code-reviewer show-review PRIORITY-26

# List reviews pending architect review
poetry run code-reviewer pending-architect-reviews
```

---

## Review Summary Contents

Each review includes:
- **Overall Summary**: High-level assessment of implementation
- **Quality Score**: 1-10 rating
- **Critical Issues**: Must-fix problems
- **Warnings**: Should-fix issues
- **Suggestions**: Nice-to-have improvements
- **Compliance Checks**:
  - Follows spec?
  - Test coverage adequate?
  - Style compliant?
- **Commits Reviewed**: How many commits analyzed
- **Architect Review**: Has architect acknowledged?

---

## Workflow

1. **code_developer** completes roadmap item implementation
   - Multiple commits tracked in `implementation_commits` table

2. **code_reviewer** reviews all commits together
   - Reads technical spec for context
   - Generates comprehensive summary
   - Stores in `code_reviews` table
   - Deletes temporary commit records

3. **architect** reads review summaries
   - Uses `get_unreviewed_code_reviews()`
   - Takes action based on findings
   - Marks as read with comments

---

## Related Documentation

- **code_reviewer workflow**: `.claude/agents/code-reviewer.md`
- **architect workflow**: `.claude/agents/architect.md` (Workflow 8)
- **Database schema**: `code_reviews` table in `data/roadmap.db`
- **Migration**: `coffee_maker/autonomous/migrate_redesign_code_reviews.py`

---

**Review Count**: 0 (starting fresh with new system)
**Old Reviews Archived**: 103 commit-level reviews (archived 2025-10-24)
